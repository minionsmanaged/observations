(this.webpackJsonpobservations=this.webpackJsonpobservations||[]).push([[0],{30:function(t,e,n){t.exports=n(40)},35:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var o=n(0),s=n.n(o),a=n(19),i=n.n(a),c=(n(35),n(7)),l=n(9),r=n(20),u=n(21),f=n(22),m=n(10),h=n(28),p=n(29),k=n(23),d=n(25),b=n(8),g=n(17),j=n(27),w=n(12),y=n(26),O=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(t){var o;return Object(u.a)(this,n),(o=e.call(this,t)).state={filter:{option:{projects:[],domains:[],workers:[]},selection:{projects:["gecko"],domains:["gecko-1","gecko-3","gecko-t"],workers:["b-linux","b-linux-aws","b-linux-xlarge","b-win2012","t-win10-64","t-win10-64-gpu-s","t-win7-32","t-win7-32-gpu","t-linux-large","t-linux-xlarge"]}},columns:4,fluid:!1,pools:{}},o.fetchData=o.fetchData.bind(Object(m.a)(o)),o}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.setColumns(),window.addEventListener("resize",this.setColumns.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setColumns.bind(this))}},{key:"setColumns",value:function(){Object.keys(this.state.pools).length<3||window.innerWidth<600?this.setState({columns:1,fluid:!1}):window.innerWidth<900?this.setState({columns:2,fluid:!1}):window.innerWidth<1200?this.setState({columns:3,fluid:!0}):this.setState({columns:4,fluid:!0})}},{key:"fetchData",value:function(){var t=this;fetch("https://raw.githubusercontent.com/minionsmanaged/observations/master/pools.json").then((function(t){return t.json()})).then((function(e){t.setState((function(t){return t.pools=void 0===t.filter.selection.projects||0===t.filter.selection.projects.length?e:t.filter.selection.projects.reduce((function(t,n){return Object(r.a)({},t,Object(l.a)({},n,e[n]))}),{}),t.filter.option.projects=Object.keys(e).filter((function(t){return"count"!==t})).sort(),t.filter.option.projects.forEach((function(n){t.filter.option.domains=Object(c.a)(new Set([].concat(Object(c.a)(t.filter.option.domains),Object(c.a)(Object.keys(e[n]).filter((function(t){return"count"!==t})))))).sort(),Object.keys(e[n]).forEach((function(o){t.filter.option.workers=Object(c.a)(new Set([].concat(Object(c.a)(t.filter.option.workers),Object(c.a)(Object.keys(e[n][o]).filter((function(t){return"count"!==t})))))).sort()}))})),t}))}))}},{key:"render",value:function(){var t=this;return s.a.createElement(k.a,{fluid:this.state.fluid},s.a.createElement(d.a,null,s.a.createElement(b.a,null,["projects","domains","workers"].map((function(e){return s.a.createElement("div",null,s.a.createElement("h6",null,e),t.state.filter.option[e].map((function(n){return s.a.createElement(y.a.Check,{type:"checkbox",onChange:function(){},checked:t.state.filter.selection[e].includes(n),label:n,id:"filter_"+e+"_"+n,key:"filter_"+e+"_"+n})})))}))),Object(c.a)(Array(this.state.columns).keys()).map((function(e){return s.a.createElement(b.a,{key:e,xs:10},Object.keys(t.state.pools).sort((function(e,n){return Object.keys(t.state.pools[e]).length<Object.keys(t.state.pools[n]).length?-1:Object.keys(t.state.pools[e]).length>Object.keys(t.state.pools[n]).length?1:0})).filter((function(n,o){return o%t.state.columns===e&&"count"!==n})).map((function(e){return s.a.createElement(g.a,{key:e},s.a.createElement(g.a.Header,null,s.a.createElement("strong",null,e),s.a.createElement("small",{className:"text-muted font-weight-light float-right"},Object.keys(t.state.pools[e]).length-1," active domain",Object.keys(t.state.pools[e]).length-1===1?"":"s",", \xa0",t.state.pools[e].count.instance," running instance",1===t.state.pools[e].count.instance?"":"s",", \xa0",t.state.pools[e].count.task,"  recent task",1===t.state.pools[e].count.task?"":"s")),s.a.createElement(j.a,{className:"list-group-flush"},Object.keys(t.state.pools[e]).filter((function(e){return"count"!==e&&(void 0===t.state.domains||0===t.state.domains.length||t.state.domains.includes(e))})).sort().map((function(n){return s.a.createElement(w.a,{key:n},s.a.createElement("strong",null,n),s.a.createElement("small",{className:"text-muted font-weight-light float-right"},Object.keys(t.state.pools[e][n]).length-1," pool",Object.keys(t.state.pools[e][n]).length-1===1?"":"s",", \xa0",t.state.pools[e][n].count.instance," running instance",1===t.state.pools[e][n].count.instance?"":"s",", \xa0",t.state.pools[e][n].count.task,"  recent task",1===t.state.pools[e][n].count.task?"":"s"),s.a.createElement("ul",null,Object.keys(t.state.pools[e][n]).filter((function(e){return"count"!==e&&(void 0===t.state.workers||0===t.state.workers.length||t.state.workers.includes(e))})).sort().map((function(o){return s.a.createElement("li",{key:o},o,s.a.createElement("small",{className:"text-muted font-weight-light float-right"},t.state.pools[e][n][o].count.instance," running instance",1===t.state.pools[e][n][o].count.instance?"":"s",", \xa0",t.state.pools[e][n][o].count.task,"  recent task",1===t.state.pools[e][n][o].count.task?"":"s"))}))))}))))})))}))))}}]),n}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(39);i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.23e71d1e.chunk.js.map